<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Login Page</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./public/styles/styles.css">
    <link rel="stylesheet" href="./public/styles/cookie-banner.css">
    <link rel="stylesheet" href="./public/styles/customize.css">
</head>

<body>

    <nav class="navbar">
        <div class="navbar-container">
            <div class="auth-links">
                <button id="authModalTrigger" class="auth-btn">Login | Register</button>
            </div>
            <button id="themeToggleBtn" aria-label="Toggle Light/Dark Mode">☀️</button>
        </div>
    </nav>

    <!-- Login & Register Modal -->
    <div id="authModal" class="modal" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <button class="close" id="closeAuthModal" aria-label="Close Modal">&times;</button>

            <!-- Login Form -->
            <div id="loginContainer">
                <h2>Login to Your Account</h2>
                <form id="loginForm">
                    <div class="input-group">
                        <label for="auth-email">Email or Username</label>
                        <input type="text" id="auth-email" placeholder="Enter your email" required>
                    </div>
                    <div class="input-group">
                        <label for="auth-password">Password</label>
                        <input type="password" id="auth-password" placeholder="Enter your password" required>
                    </div>
                    <button type="submit" class="login-button">Login</button>
                    <a href="#" class="forgot-password">Forgot Password?</a>
                    <p>Don't have an account? <button type="button" id="switchToRegister" class="register-link">Register</button></p>
                </form>
            </div>

            <!-- Register Form (Initially Hidden) -->
            <div id="registerContainer" style="display: none;">
                <h2>Create an Account</h2>
                <form id="registerForm">
                    <div class="input-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" placeholder="Enter your username" required>
                    </div>
                    <div class="input-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" placeholder="Enter your email" required>
                    </div>
                    <div class="input-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" placeholder="Enter your password" required>
                    </div>
                    <div class="input-group">
                        <label for="confirmPassword">Confirm Password</label>
                        <input type="password" id="confirmPassword" placeholder="Confirm your password" required>
                    </div>
                    <button type="submit" class="login-button">Register</button>
                    <p>Already have an account? <button type="button" id="switchToLogin" class="register-link">Login</button></p>
                </form>
            </div>
        </div>
    </div>

    <!-- Cookie Banner -->
    <div id="cookieConsent" class="cookie-banner">
        <div class="cookie-banner-content">
            <p><strong>We value your privacy!</strong><br>  
                We use cookies to enhance your experience, analyze site traffic, and serve personalized content.  
                By clicking "Accept All", you agree to the use of all cookies.  
                You can manage your preferences via "Customize". 
                <br> 
                Learn more in our  
                <a href="cookie-policy.html" target="_blank">Cookie Policy</a>,  
                <a href="privacy-policy.html" target="_blank">Privacy Policy</a>, and  
                <a href="terms-of-service.html" target="_blank">Terms of Service</a>.
            </p>
            <div class="cookie-buttons">
                <button id="acceptCookies" class="accept-button">Accept All</button>
                <button id="rejectCookies" class="reject-button">Reject All</button>
                <button id="customizeCookies" class="customize-button">Customize</button>
            </div>
        </div>
    </div>


        <!-- Cookie Preferences Modal -->
        <div id="cookiePreferencesModal" class="cookie-preferences-modal">
            <div class="modal-content">
                <h1>Customize Your Preferences</h1>
                <br>
                <div class="cookie-category">
                    <input type="checkbox" id="strictlyNecessary" checked disabled>
                    <label for="strictlyNecessary" class="cookie-label" data-cookie-type="strictlyNecessary" data-info="Strictly necessary cookies are essential for the website's basic functionalities. These cookies ensure the site functions properly. <a href= cookie-policy.html target='_blank'>Learn More</a>">Strictly Necessary Cookies (Required for website functionality)</label>
                </div>
                <br>
                <div class="cookie-category">
                    <input type="checkbox" id="performance">
                    <label for="performance" class="cookie-label" data-cookie-type="performance" data-info="Performance cookies help us understand how visitors interact with our website. These cookies are used to improve website performance and functionality. <a href= cookie-policy.html target='_blank'>Learn More</a>">Performance (Analytical) Cookies</label>
                </div>
                <br>
                <div class="cookie-category">
                    <input type="checkbox" id="functional">
                    <label for="functional" class="cookie-label" data-cookie-type="functional" data-info="Functional cookies allow the website to remember your preferences and personalize the user experience. <a href= cookie-policy.html target='_blank'>Learn More</a>">Functional Cookies (Preferences)</label>
                </div>
                <br>
                <div class="cookie-category">
                    <input type="checkbox" id="advertising">
                    <label for="advertising" class="cookie-label" data-cookie-type="advertising" data-info="Advertising cookies help us provide you with personalized ads based on your interests and browsing history. <a href= cookie-policy.html target='_blank'>Learn More</a>">Advertising (Targeting) Cookies</label>
                </div>
                <br>
                <div class="cookie-category">
                    <input type="checkbox" id="socialMedia">
                    <label for="socialMedia" class="cookie-label" data-cookie-type="socialMedia" data-info="Social Media cookies allow you to share content and interact with social media platforms like Facebook and Twitter. <a href= cookie-policy.html target='_blank'>Learn More</a>">Social Media Cookies</label>
                </div>
                <br>
                <div class="modal-buttons">
                    <button id="savePreferences" class="save-button">Save Preferences</button>
                    <button id="cancelPreferences" class="cancel-button">Cancel</button>
                </div>
            </div>
        </div>
    
        <!-- Cookie Info Modal (For showing explanations about cookies) -->
        <div id="cookieInfoModal" class="cookie-info-modal">
            <div class="modal-content">
                <p id="cookieInfoText"></p>
                <button id="closeModalButton" class="close-modal-button">Close</button>
            </div>
        </div>
    

    <!-- JavaScript -->
    <script src="./public/src/main.js"></script>
    <script src="./public/src/script.js"></script>
    <script src="./public/src/register.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="./public/src/cookie-banner.js"></script>
    <script src="./public/src/theme-toggle.js"></script>

<script>

  document.addEventListener("DOMContentLoaded", function () {
    const authModal = document.getElementById("authModal");
    const authModalTrigger = document.getElementById("authModalTrigger");
    const closeAuthModal = document.getElementById("closeAuthModal");
    const loginContainer = document.getElementById("loginContainer");
    const registerContainer = document.getElementById("registerContainer");
    const body = document.body;

    if (!authModal || !authModalTrigger || !closeAuthModal || !loginContainer || !registerContainer) {
        console.error("Modal elements not found! Check your HTML IDs.");
        return;
    }

    // Function to open the modal
    function openModal() {
        authModal.classList.add("show"); // Add a class for styling instead of modifying styles directly
        authModal.setAttribute("aria-hidden", "false");
        loginContainer.classList.remove("hidden");
        registerContainer.classList.add("hidden");
        body.style.overflow = "hidden"; // Disable scrolling
    }

    // Function to close the modal
    function closeModal() {
        authModal.classList.remove("show");
        authModal.setAttribute("aria-hidden", "true");
        body.style.overflow = "auto"; // Restore scrolling
    }

    // Open Modal on button click
    authModalTrigger.addEventListener("click", openModal);

    // Close Modal on button click or outside click
    closeAuthModal.addEventListener("click", closeModal);
    window.addEventListener("click", (event) => {
        if (event.target === authModal) closeModal();
    });

    // Close modal with Escape key
    window.addEventListener("keydown", (event) => {
        if (event.key === "Escape") closeModal();
    });

    // Toggle between login & register
    document.addEventListener("click", (event) => {
        if (event.target.id === "switchToRegister") {
            loginContainer.classList.add("hidden");
            registerContainer.classList.remove("hidden");
        } else if (event.target.id === "switchToLogin") {
            registerContainer.classList.add("hidden");
            loginContainer.classList.remove("hidden");
        }
    });
});


    </script>

</body>

</html>
