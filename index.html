<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Login Page</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./public/styles/styles.css">
    <link rel="stylesheet" href="./public/styles/cookie-banner.css">
    <link rel="stylesheet" href="./public/styles/customize.css">
</head>

<body>

    <nav class="navbar">
        <div class="navbar-container">
            <button id="loginRegisterBtn" class="login-register-btn" aria-haspopup="dialog" aria-controls="loginModal" role="button">
                Login | Register
            </button>
            <button id="themeToggleBtn" aria-label="Toggle Light/Dark Mode">☀️ Light Mode</button>
        </div>
    </nav>

    <!-- Cookie Consent Banner -->
    <div id="cookieConsent" class="cookie-banner">
        <div class="cookie-banner-content">
            <p><strong>We value your privacy!</strong><br>  
                We use cookies to enhance your experience, analyze site traffic, and serve personalized content.  
                By clicking "Accept All", you agree to the use of all cookies.  
                You can manage your preferences via "Customize". 
                <br> 
                Learn more in our  
                <a href="cookie-policy.html" target="_blank">Cookie Policy</a>,  
                <a href="privacy-policy.html" target="_blank">Privacy Policy</a>, and  
                <a href="terms-of-service.html" target="_blank">Terms of Service</a>.
            </p>

            <!-- Buttons -->
            <div class="cookie-buttons">
                <button id="acceptCookies" class="accept-button" aria-label="Accept all cookies">Accept All</button>
                <button id="rejectCookies" class="reject-button" aria-label="Reject all cookies">Reject All</button>
                <button id="customizeCookies" class="customize-button" aria-label="Customize cookie preferences">Customize</button>
            </div>
        </div>
    </div>

    <!-- Cookie Preferences Modal -->
    <div id="cookiePreferencesModal" class="cookie-preferences-modal" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <h1>Customize Your Preferences</h1>
            <br>
            <div class="cookie-category">
                <input type="checkbox" id="strictlyNecessary" checked disabled>
                <label for="strictlyNecessary">Strictly Necessary Cookies (Required for website functionality)</label>
            </div>
            <br>
            <div class="cookie-category">
                <input type="checkbox" id="performance">
                <label for="performance">Performance (Analytical) Cookies</label>
            </div>
            <br>
            <div class="cookie-category">
                <input type="checkbox" id="functional">
                <label for="functional">Functional Cookies (Preferences)</label>
            </div>
            <br>
            <div class="cookie-category">
                <input type="checkbox" id="advertising">
                <label for="advertising">Advertising (Targeting) Cookies</label>
            </div>
            <br>
            <div class="cookie-category">
                <input type="checkbox" id="socialMedia">
                <label for="socialMedia">Social Media Cookies</label>
            </div>
            <br>
            <div class="modal-buttons">
                <button id="savePreferences" class="save-button">Save Preferences</button>
                <button id="cancelPreferences" class="cancel-button">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <button class="close" id="closeLoginModal" aria-label="Close Login Modal">&times;</button>
            <h2>Login to Your Account</h2>
            <form id="loginForm">
                <div class="input-group">
                    <label for="email">Email or Username</label>
                    <input type="text" id="email" placeholder="Enter your email" required>
                </div>
                <div class="input-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="Enter your password" required>
                </div>
                <button type="submit" class="login-button">Login</button>
                <a href="#" class="forgot-password">Forgot Password?</a>
                <button type="button" class="register-button" onclick="window.location.href='register.html'">Register</button>
            </form>
        </div>
    </div>

    <!-- Include JavaScript -->
    <script src="./public/src/main.js"></script>
    <script src="./public/src/script.js"></script>
    <script type="module" src="./public/src/cookie-banner.js"></script>
    <script src="./public/src/theme-toggle.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const loginRegisterBtn = document.getElementById("loginRegisterBtn");
            const loginModal = document.getElementById("loginModal");
            const closeLoginModal = document.getElementById("closeLoginModal");

            if (loginRegisterBtn && loginModal && closeLoginModal) {
                // Open Login Modal when "Login | Register" button is clicked
                loginRegisterBtn.addEventListener("click", function () {
                    loginModal.classList.add("show");  
                    loginModal.setAttribute("aria-hidden", "false");
                });

                // Close Login Modal when 'X' button is clicked
                closeLoginModal.addEventListener("click", function () {
                    loginModal.classList.remove("show");  
                    loginModal.setAttribute("aria-hidden", "true");
                });

                // Close Modal when clicking outside of it
                window.addEventListener("click", function (event) {
                    if (event.target === loginModal) {
                        loginModal.classList.remove("show");  
                        loginModal.setAttribute("aria-hidden", "true");
                    }
                });

                // Close modal on Esc key press
                document.addEventListener("keydown", function (event) {
                    if (event.key === "Escape" && loginModal.classList.contains("show")) {
                        loginModal.classList.remove("show");  
                        loginModal.setAttribute("aria-hidden", "true");
                    }
                });
            } else {
                console.error("Modal elements not found! Check your HTML IDs.");
            }
        });
    </script>

</body>

</html>
