<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Latest News</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
:root {
    --primary-color: #007bff;
    --secondary-color: #e4e8ea;
    --dark-bg: #121212;
    --dark-surface: #1e1e1e;
    --light-text: #ffffff;
    --card-bg: #ffffff;
    --transition: all 0.3s ease;
    --shadow-light: rgba(0, 0, 0, 0.1);
    --shadow-dark: rgba(255, 255, 255, 0.1);
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    transition: var(--transition);
    background-color: #f5f5f5;
    margin: 0;
    padding: 0;
}

/* Enhanced Navbar */
.navbar {
    box-shadow: 0 2px 10px var(--shadow-light);
    padding: 1rem 0;
    background-color: #ffffff;
}

.navbar-brand {
    font-weight: 700;
    font-size: 1.6rem;
    color: var(--primary-color);
}

.nav-link {
    transition: var(--transition);
    color: #333 !important;
    font-weight: 500;
}

.nav-link:hover {
    color: var(--primary-color) !important;
}

.rounded-circle {
    cursor: pointer;
    transition: var(--transition);
    border: 2px solid var(--primary-color);
}

.rounded-circle:hover {
    opacity: 0.85;
    transform: scale(1.05);
}

/* Enhanced Modals */
.modal-content {
    border: none;
    border-radius: 12px;
    box-shadow: 0 5px 20px var(--shadow-light);
    background-color: var(--card-bg);
}

.modal-header {
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);
    background-color: #f8f9fa;
    border-radius: 12px 12px 0 0;
}

/* Settings Section */
.settings-section {
    margin-bottom: 2rem;
}

.settings-section h6 {
    font-size: 0.95rem;
    text-transform: uppercase;
    letter-spacing: 1.2px;
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);
    padding-bottom: 0.6rem;
    color: #555;
}

.list-group-item {
    border: none;
    border-radius: 10px;
    padding: 12px 18px;
    margin-bottom: 4px;
    background-color: #f8f9fa;
    transition: var(--transition);
}

.list-group-item:hover {
    background-color: #e9ecef;
    padding-left: 22px;
}

.form-select, .form-check-input {
    cursor: pointer;
}

.form-select {
    border-radius: 25px;
    padding: 6px 12px;
    border: 1px solid #ced4da;
}

.badge {
    padding: 5px 10px;
    font-size: 0.8rem;
}

.modal-footer {
    justify-content: space-between;
    border-top: 1px solid rgba(0, 0, 0, 0.08);
}

/* Category Buttons */
.category-btn {
    transition: var(--transition);
    border-radius: 25px;
    margin: 0 8px 8px 0;
    padding: 10px 24px;
    font-weight: 500;
    text-transform: capitalize;
}

.category-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 8px var(--shadow-light);
}

.btn-primary {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
}

.btn-primary:hover {
    background-color: #0056b3;
    border-color: #0056b3;
}

/* Search Bar */
#searchInput {
    border-radius: 30px;
    padding: 14px 24px;
    border: 1px solid #ddd;
    box-shadow: 0 2px 6px var(--shadow-light);
    transition: var(--transition);
    background-color: #fff;
}

#searchInput:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 0.25rem rgba(0, 123, 255, 0.2);
    outline: none;
}

/* News Cards */
.card {
    border: none;
    border-radius: 12px;
    overflow: hidden;
    transition: var(--transition);
    background-color: var(--card-bg);
}

.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px var(--shadow-light);
}

.card-img-top {
    height: 200px;
    object-fit: cover;
    transition: var(--transition);
}

.card:hover .card-img-top {
    opacity: 0.95;
}

.card-body {
    padding: 1.5rem;
}

.card-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: #333;
    margin-bottom: 0.75rem;
}

.card-text {
    color: #666;
    font-size: 0.95rem;
    line-height: 1.5;
}

/* Dark Mode */
/* Dark Mode Base */
.dark-mode {
    background-color: var(--dark-bg);
    color: var(--light-text); /* Default text color */
}

/* Navbar */
.dark-mode .navbar {
    background-color: var(--dark-surface);
    box-shadow: 0 2px 10px var(--shadow-dark);
}

.dark-mode .navbar-brand {
    color: var(--light-text);
}

.dark-mode .nav-link {
    color: var(--light-text) !important;
}

/* Modal */
.dark-mode .modal-content {
    background-color: var(--dark-surface);
    color: var(--light-text); /* Ensure all text in modal is white */
}

.dark-mode .modal-header {
    background-color: #2a2a2a;
    border-bottom: 1px solid var(--shadow-dark);
    color: var(--light-text); /* Modal header text */
}

.dark-mode .modal-title {
    color: var(--light-text); /* Modal title specifically */
}

/* Settings Section */
.dark-mode .settings-section h6 {
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    color: var(--light-text); /* Was #e0e0e0, now consistent with --light-text */
}

/* Accordion */
.dark-mode .accordion-button {
    background-color: var(--dark-surface);
    color: var(--light-text);
}

.dark-mode .accordion-button:not(.collapsed) {
    background-color: #2a2a2a;
    color: var(--light-text);
}

.dark-mode .accordion-button:focus {
    box-shadow: none;
    border-color: var(--shadow-dark);
}

/* List Group */
.dark-mode .list-group-item {
    background-color: #2a2a2a;
    color: var(--light-text);
}

.dark-mode .list-group-item:hover {
    background-color: #333;
}

.dark-mode .list-group-item a {
    color: var(--light-text); /* Links in list items */
}

.dark-mode .list-group-item a:hover {
    color: #ddd; /* Slightly dimmer on hover */
}

.dark-mode .list-group-item.text-warning a {
    color: #ff2c2c !important; /* Warning color for Delete Cookie Data */
}

/* Inputs */
.dark-mode #searchInput {
    background-color: #2a2a2a;
    border-color: var(--shadow-dark);
    color: var(--light-text);
    box-shadow: 0 2px 6px var(--shadow-dark);
}

.dark-mode #searchInput::placeholder {
    color: #aaa;
    opacity: 1;
}

.dark-mode .form-control {
    background-color: #2a2a2a;
    border-color: var(--shadow-dark);
    color: var(--light-text);
}

.dark-mode .form-control::placeholder {
    color: #aaa;
    opacity: 1;
}

/* Cards */
.dark-mode .card {
    background-color: #1e1e1e;
}

.dark-mode .card-title {
    color: var(--light-text);
}

.dark-mode .card-text {
    color: #bbb;
}

/* Headings */
.dark-mode h2,
.dark-mode h3,
.dark-mode h4,
.dark-mode h5,
.dark-mode h6 {
    color: var(--light-text); /* All headings in dark mode */
}

/* Override Bootstrap muted text */
.dark-mode .text-muted {
    color: #bbb !important; /* Lighter gray for muted text */
}

/* Responsive Adjustments (unchanged, no dark mode issue here) */
@media (max-width: 768px) {
    .navbar-brand {
        font-size: 1.3rem;
    }

    .category-btn {
        margin: 5px 0;
        width: 100%;
        padding: 12px;
    }

    .btn-group {
        display: flex;
        flex-direction: column;
    }

    .card-img-top {
        height: 150px;
    }

    .card-title {
        font-size: 1.1rem;
    }
}

/* Container Styling */
.container {
    max-width: 1200px;
    padding: 0 15px;
}

/* Base heading style (light mode) */
h2 {
    font-weight: 700;
    color: #333;
    margin-bottom: 1.5rem;
}

.dark-mode h2 {
    color: var(--light-text);
}

/* Container Styling */
.container {
    max-width: 1200px;
    padding: 0 15px;
}

h2 {
    font-weight: 700;
    color: #333;
    margin-bottom: 1.5rem;
}

.dark-mode h2 {
    color: var(--light-text);
}
</style>
</head>
<body>
    <!-- Same HTML structure as before -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="news.html">PlusPoint News</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#settingsModal">Settings</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    

    <div class="container mt-3">
        <h2>Latest News</h2>
        <div class="btn-group" role="group">
            <button class="btn btn-primary category-btn" data-category="general">General</button>
            <button class="btn btn-secondary category-btn" data-category="technology">Technology</button>
            <button class="btn btn-secondary category-btn" data-category="sports">Sports</button>
            <button class="btn btn-secondary category-btn" data-category="business">Business</button>
        </div>
    </div>

    <div class="container mt-3">
        <input type="text" id="searchInput" class="form-control" placeholder="Search news...">
    </div>

    <div class="container mt-3">
        <div id="newsContainer" class="row"></div>
    </div>



<!-- Settings Modal -->
<div class="modal fade" id="settingsModal" tabindex="-1" role="dialog" aria-labelledby="settingsModalLabel">
    <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="settingsModalLabel">Settings</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Account Section -->
                <div class="settings-section">
                    
                <!-- Appearance Section -->
                <div class="settings-section">
                    <h6 class="text-muted mb-3">Appearance</h6>
                    <ul class="list-group mb-4">
                        <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                            <label for="themeSelect" id="themeToggle">Theme</label>
                            <select class="form-select w-50" id="themeSelect">
                                <option value="light">Light</option>
                                <option value="dark">Dark</option>
                                <option value="system" selected>System Default</option>
                            </select>
                        </li>
                        <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                            <label for="fontSizeSelect" id="fontSize">Font Size</label>
                            <select class="form-select w-50" id="fontSizeSelect">
                                <option value="small">Small</option>
                                <option value="medium" selected>Medium</option>
                                <option value="large">Large</option>
                            </select>
                        </li>
                    </ul>
                </div>

                <!-- Privacy Section -->
                <div class="settings-section">
                    <h6 class="text-muted mb-3">Privacy</h6>
                    <ul class="list-group mb-4">
                        <!-- Cookies Accordion -->
                        <li class="list-group-item list-group-item-action p-0">
                            <div class="accordion" id="cookiesAccordion">
                                <div class="accordion-item border-0">
                                    <h2 class="accordion-header" id="cookiesHeading">
                                        <button class="accordion-button collapsed p-3" type="button" data-bs-toggle="collapse" data-bs-target="#cookiesCollapse" aria-expanded="false" aria-controls="cookiesCollapse">
                                            Cookies
                                        </button>
                                    </h2>
                                    <div id="cookiesCollapse" class="accordion-collapse collapse" aria-labelledby="cookiesHeading" data-bs-parent="#cookiesAccordion">
                                        <div class="accordion-body p-0">
                                            <ul class="list-group">
                                                <li class="list-group-item list-group-item-action">
                                                    <a href="#" id="cookieSettings" data-bs-toggle="modal" data-bs-target="#cookieModal">Cookie Preferences</a>
                                                </li>
                                                <li class="list-group-item list-group-item-action text-warning">
                                                    <a href="#" id="deleteCookieData">Delete Cookie Data</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <!-- Read Policies Accordion -->
                        <li class="list-group-item list-group-item-action p-0">
                            <div class="accordion" id="policiesAccordion">
                                <div class="accordion-item border-0">
                                    <h2 class="accordion-header" id="policiesHeading">
                                        <button class="accordion-button collapsed p-3" type="button" data-bs-toggle="collapse" data-bs-target="#policiesCollapse" aria-expanded="false" aria-controls="policiesCollapse">
                                            Read Policies
                                        </button>
                                    </h2>
                                    <div id="policiesCollapse" class="accordion-collapse collapse" aria-labelledby="policiesHeading" data-bs-parent="#policiesAccordion">
                                        <div class="accordion-body p-0">
                                            <ul class="list-group">
                                                <li class="list-group-item list-group-item-action">
                                                    <a href="cookie-policy.html" target="_blank" id="cookiePolicyLink">Cookie Policy</a>
                                                </li>
                                                <li class="list-group-item list-group-item-action">
                                                    <a href="privacy-policy.html" target="_blank" id="privacyPolicyLink">Privacy Policy</a>
                                                </li>
                                                <li class="list-group-item list-group-item-action">
                                                    <a href="terms-of-service.html" target="_blank" id="termsOfServiceLink">Terms of Service</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>

                <!-- About Section -->
                <div class="settings-section">
                    <h6 class="text-muted mb-3">About</h6>
                    <ul class="list-group">
                        <li class="list-group-item list-group-item-action">
                            <a href="terms-of-service.html" id="terms">Terms of Service</a>
                        </li>
                        <li class="list-group-item list-group-item-action">
                            <a href="privacy-policy.html" id="privacy">Privacy Policy</a>
                        </li>
                    </ul>
                    <li class="list-group-item list-group-item-action">
                        <a href="index.html" id="logout">Log Out</a>
                    </li>
                </ul>
            </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Cookie Preferences Modal -->
<div class="modal fade" id="cookieModal" tabindex="-1" role="dialog" aria-labelledby="cookieModalLabel">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="cookieModalLabel">Cookie Preferences</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="strictlyNecessaryCookies" checked disabled>
                        <label class="form-check-label" for="strictlyNecessaryCookies">Strictly Necessary Cookies (Required)</label>
                    </div>
                    <small class="form-text text-muted">These cookies are necessary for the website to function and cannot be disabled.</small>
                </div>
                <div class="mb-3">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="performanceCookies">
                        <label class="form-check-label" for="performanceCookies">Performance Cookies</label>
                    </div>
                    <small class="form-text text-muted">These cookies help us measure and improve site performance by collecting analytics data, including your IP address and approximate location (e.g., city, country).</small>
                </div>
                <div class="mb-3">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="functionalCookies">
                        <label class="form-check-label" for="functionalCookies">Functional Cookies</label>
                    </div>
                    <small class="form-text text-muted">These cookies enhance functionality, such as remembering preferences, and may use your IP address and location to personalize content.</small>
                </div>
                <div class="mb-3">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="advertisingCookies">
                        <label class="form-check-label" for="advertisingCookies">Advertising Cookies</label>
                    </div>
                    <small class="form-text text-muted">These cookies deliver personalized advertisements based on your interests.</small>
                </div>
                <div class="mb-3">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="socialMediaCookies">
                        <label class="form-check-label" for="socialMediaCookies">Social Media Cookies</label>
                    </div>
                    <small class="form-text text-muted">These cookies allow integration with social media platforms for sharing content.</small>
                </div>
                <p class="mt-3 text-muted">
                    <small>By enabling Performance or Functional cookies, you consent to us updating your IP address and location data for the purposes described. See our <a href="/privacy-policy" target="_blank">Privacy Policy</a> for details.</small>
                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="saveCookiePrefs">Save Preferences</button>
            </div>
        </div>
    </div>
</div>

<!-- MFA Confirmation Modal -->
<div class="modal fade" id="deleteCookieConfirmModal" tabindex="-1" role="dialog" aria-labelledby="deleteCookieConfirmLabel">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deleteCookieConfirmLabel">Confirm Data Deletion</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p><strong>Warning:</strong> Deleting your cookie data will:</p>
                <ul class="list-unstyled ms-4">
                    <li><i class="bi bi-dash"></i> Remove all stored preferences (theme, font size, etc.)</li>
                    <li><i class="bi bi-dash"></i> Clear location data used for personalized news</li>
                    <li><i class="bi bi-dash"></i> Reset your session, requiring you to log in again</li>
                </ul>
                <p class="mt-3">This action cannot be undone. Please enter your email to receive a verification code, then enter the code to proceed.</p>

                <!-- Email Input Section -->
                <div class="mb-3" id="emailInputSection">
                    <label for="mfaEmail" class="form-label">Email Address</label>
                    <input type="email" class="form-control" id="mfaEmail" placeholder="Enter your email" required>
                    <button type="button" class="btn btn-primary mt-2" id="sendMfaCode">
                        <span class="spinner-border spinner-border-sm d-none" role="status"></span>
                        Send Code
                    </button>
                </div>

                <!-- Verification Code Section (hidden initially) -->
                <div class="mb-3 d-none" id="deleteCookieMfaCodeSection">
                    <label for="deleteCookieMfaCode" class="form-label">Verification Code</label>
                    <input type="text" class="form-control" id="deleteCookieMfaCode" placeholder="Enter 6-digit code" maxlength="6" pattern="[0-9]{6}" required>
                    <small class="form-text text-muted">
                        Code expires in 5 minutes. 
                        <a href="#" id="resendCode" class="text-decoration-underline">Resend Code</a>
                    </small>
                </div>

                <!-- Status Message (hidden initially) -->
                <div class="alert alert-info d-none" id="mfaStatus" role="alert"></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger d-none" id="confirmDeleteCookie">Delete Data</button>
            </div>
        </div>
    </div>
</div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./public/src/news.js"></script>
  
</body>
</html>